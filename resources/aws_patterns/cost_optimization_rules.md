# 成本优化规则

本文档定义了AWS架构设计中必须遵循的成本优化规则。

## 规则条件

- 所有架构必须考虑成本优化策略
- 非生产环境应使用自动关停机制以节省成本
- 应使用合适的实例类型和大小，避免资源浪费
- 应使用Spot实例处理非关键或容错任务
- 应使用S3生命周期策略管理对象存储成本
- 应使用预留实例或Savings Plans降低稳定工作负载的成本
- 必须实施资源标记以便成本分配和跟踪

## 验证方法

验证架构是否包含成本优化策略，是否在架构概述、设计决策或最佳实践中明确提到了成本考虑。

## 示例实现

```json
{
  "components": [
    {
      "name": "计算资源",
      "service_type": "EC2",
      "description": "使用适当大小的实例和混合使用预留实例与按需实例"
    },
    {
      "name": "对象存储",
      "service_type": "S3",
      "description": "实施生命周期策略，将不常访问的数据转移到低成本存储类别"
    },
    {
      "name": "成本监控",
      "service_type": "CloudWatch",
      "description": "设置预算警报和资源利用率监控，及时发现成本异常"
    }
  ]
}
```